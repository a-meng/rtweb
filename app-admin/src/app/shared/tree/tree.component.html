<ng-container *ngTemplateOutlet="treeTpl; context: {d:treeData}"></ng-container>
<ng-template #treeTpl let-d='d'>
    <ul>
        <li *ngFor='let item of d'>
            <div class='tree-node' [class.isLeaf]='item.children.length===0'>
                <ng-container *ngTemplateOutlet='tpl;context:{node:item}'></ng-container>
            </div>
            <ng-container *ngIf='item.children.length>0'>
                <ng-container *ngTemplateOutlet="treeTpl; context: {d:item.children}"></ng-container>
            </ng-container>
        </li>
    </ul>
</ng-template>
